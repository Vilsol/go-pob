import{ah as m,Z as A,ai as L,V as O,X as g,a5 as h,Y as E,n as Y,F as _,ae as H,W as I,aj as V,ac as j,a2 as k,ak as C,a0 as M,D as S,p as W,l as w,a7 as $,e as F,G}from"./runtime.LiVz1aeE.js";import{b as X,r as D,h as p}from"./props.CgGGVFgu.js";import{d as Z}from"./disclose-version.boCT8-mN.js";import{i as q}from"./utils.DxcAWsds.js";function Q(a,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(a.__t??(a.__t=a.nodeValue))&&(a.__t=n,a.nodeValue=n==null?"":n+"")}function z(a,e){return N(a,e)}function U(a,e){m(),e.intro=e.intro??!1;const n=e.target,l=w,u=_;try{for(var t=A(n);t&&(t.nodeType!==8||t.data!==L);)t=O(t);if(!t)throw g;h(!0),E(t),Y();const d=N(a,{...e,anchor:t});if(_===null||_.nodeType!==8||_.data!==H)throw I(),g;return h(!1),d}catch(d){if(d===g)return e.recover===!1&&V(),m(),j(n),h(!1),z(a,e);throw d}finally{h(l),E(u)}}const o=new Map;function N(a,{target:e,anchor:n,props:l={},events:u,context:t,intro:d=!0}){m();var y=new Set,v=i=>{for(var r=0;r<i.length;r++){var s=i[r];if(!y.has(s)){y.add(s);var f=q(s);e.addEventListener(s,p,{passive:f});var T=o.get(s);T===void 0?(document.addEventListener(s,p,{passive:f}),o.set(s,1)):o.set(s,T+1)}}};v(k(X)),D.add(v);var c=void 0,b=C(()=>{var i=n??e.appendChild(M());return S(()=>{if(t){W({});var r=G;r.c=t}u&&(l.$$events=u),w&&Z(i,null),c=a(i,l)||{},w&&($.nodes_end=_),t&&F()}),()=>{var f;for(var r of y){e.removeEventListener(r,p);var s=o.get(r);--s===0?(document.removeEventListener(r,p),o.delete(r)):o.set(r,s)}D.delete(v),R.delete(c),i!==n&&((f=i.parentNode)==null||f.removeChild(i))}});return R.set(c,b),c}let R=new WeakMap;function x(a){const e=R.get(a);e&&e()}export{U as h,z as m,Q as s,x as u};
