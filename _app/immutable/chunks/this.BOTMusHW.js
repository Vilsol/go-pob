import{q as S,C as u,D as T,E as d,l as c,n as k,J as x,a3 as R,a4 as g,Y as q,a5 as E,F,P as N,ag as O,O as Y,x as C,ax as D}from"./runtime.LiVz1aeE.js";function P(a,f,e,n=null,i=!1){c&&k();var s=a,r=null,t=null,l=null,y=i?x:0;S(()=>{if(l===(l=!!f()))return;let h=!1;if(c){const A=s.data===R;l===A&&(s=g(),q(s),E(!1),h=!0)}l?(r?u(r):r=T(()=>e(s)),t&&d(t,()=>{t=null})):(t?u(t):n&&(t=T(()=>n(s))),r&&d(r,()=>{r=null})),h&&E(!0)},y),c&&(s=F)}function _(a,f){return a===f||(a==null?void 0:a[D])===f}function b(a={},f,e,n){return N(()=>{var i,s;return O(()=>{i=s,s=[],Y(()=>{a!==e(...s)&&(f(a,...s),i&&_(e(...i),a)&&f(null,...i))})}),()=>{C(()=>{s&&_(e(...s),a)&&f(null,...s)})}}),a}export{b,P as i};
